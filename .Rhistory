devtools::create("myfirstpackage")
install.packages(devtools)
install.packages("devtools")
devtools::create("myfirstpackage")
library(devtools)
install.packages("devtools")
use_git
library(devtools)
install.packages("cli")
install.packages("devtools")
library(devtools)
install.packages("cli")
install.packages("cli")
library(devtools)
install.packages("cli")
install.packages("cli")
install.packages("cli")
library(devtools)
library(usethis)
library(devtools)
devtools::load_all()
devtools::test()
usethis::use_test("exposure")
insurance_data_sf$id
insurance_data_sf[,1]
insurance_data_sf[1,]
insurance_data_sf[0,]
exposure(insurance_data_sf[0,])
bad_data <- insurance_data_sf
bad_data$total_insurable_value[1] <- -1000
bad_data
x = insurance_data_sf[1,]
exposure(x)
devtools::test()
devtools::test()
x = insurance_data_sf[1,]
expect_silent(exposure(x, id="id", value="total_insurable_value"))
exposure(x, id="id", value="total_insurable_value")
x = insurance_data_sf[0,]
exposure(x, id="id", value="total_insurable_value")
bad_data <- insurance_data_sf
bad_data$total_insurable_value[1] <- -1000
exposure(bad_data, id="id", value="total_insurable_value")
exposure(insurance_data_sf, id="id", value="total_insurable_value")
devtools::test()
devtools::test()
devtools::test()
exposure(insurance_data_sf, id="random", value="total_insurable_value")
rlang::as_string('value')
devtools::test()
exposure(insurance_data, id="id", "total_insurable_value")
devtools::test()
install.packages("hexSticker")
library(ggplot2)
p <- ggplot() +
geom_hex(data = data.frame(
x = runif(500),
y = runif(500)
), aes(x, y)) +
theme_void() +
scale_fill_viridis_c()
p
sticker(
subplot = p,
package = "riskSpatial",
p_size = 18,
s_width = 0.9,
s_height = 0.9,
h_fill = "#0b1c2d",
h_color = "white",
p_color = "white",
filename = "hex-riskspatial.png"
)
library(hexSticker)
sticker(
subplot = p,
package = "riskSpatial",
p_size = 18,
s_width = 0.9,
s_height = 0.9,
h_fill = "#0b1c2d",
h_color = "white",
p_color = "white",
filename = "hex-riskspatial.png"
)
library(ggplot2)
set.seed(1)
df <- data.frame(
x = runif(500, -1, 1),
y = runif(500, -1, 1)
)
df$z <- with(df, exp(-(x^2 + y^2)) + rnorm(500, 0, 0.05))
p <- ggplot(df, aes(x, y, z = z)) +
geom_contour_filled(bins = 8, alpha = 0.95) +
coord_equal() +
theme_void() +
theme(
legend.position = "none"
)
p
df
dev.off()
library(hexSticker)
sticker(
subplot = p,
package = "riskSpatial",
p_size = 18,
s_width = 0.9,
s_height = 0.9,
s_x = 1,
s_y = 0.85,
h_fill = "#0b1c2d",
h_color = "white",
p_color = "white",
filename = "hex-riskspatial.png"
)
set.seed(2)
df <- data.frame(
x = rnorm(400),
y = rnorm(400)
)
p <- ggplot(df, aes(x, y)) +
stat_density_2d(
aes(fill = after_stat(level)),
geom = "polygon",
alpha = 0.8,
contour = TRUE
) +
geom_point(size = 0.4, alpha = 0.6, color = "white") +
coord_equal() +
theme_void() +
theme(
legend.position = "none"
)
p
library(hexSticker)
sticker(
subplot = p,
package = "riskSpatial",
p_size = 18,
s_width = 0.9,
s_height = 0.9,
s_x = 1,
s_y = 0.85,
h_fill = "#0b1c2d",
h_color = "white",
p_color = "white",
filename = "hex-riskspatial.png"
)
library(hexSticker)
sticker(
subplot = p,
package = "riskspatial",
p_size = 18,
s_width = 1,
s_height = 1,
s_x = 1,
s_y = 0.85,
h_fill = "#0b1c2d",
h_color = "white",
p_color = "white",
filename = "hex-riskspatial.png"
)
p <- p +
theme(
legend.position = "none",
plot.margin = margin(10, 10, 10, 10)  # top, right, bottom, left
)
library(hexSticker)
sticker(
subplot = p,
package = "riskspatial",
p_size = 18,
s_width = 1,
s_height = 1,
s_x = 1,
s_y = 0.85,
h_fill = "#0b1c2d",
h_color = "white",
p_color = "white",
filename = "hex-riskspatial.png"
)
sticker(
subplot = p,
package = "riskSpatial",
s_width = 0.8,
s_height = 0.8,
s_x = 1,
s_y = 0.85,
h_fill = "#0b1c2d",
h_color = "white",
p_color = "white",
filename = "hex-riskspatial.png"
)
library(hexSticker)
sticker(
subplot = p,
package = "riskspatial",
p_size = 16,
s_width = 1,
s_height = 1,
s_x = 1,
s_y = 0.85,
h_fill = "#0b1c2d",
h_color = "white",
p_color = "white",
filename = "hex-riskspatial.png"
)
library(hexSticker)
sticker(
subplot = p,
package = "riskspatial",
p_size = 20,
s_width = 1,
s_height = 1,
s_x = 1,
s_y = 0.85,
h_fill = "#0b1c2d",
h_color = "white",
p_color = "white",
filename = "hex-riskspatial.png"
)
library(hexSticker)
sticker(
subplot = p,
package = "riskspatial",
p_size = 20,
s_width = 3,
s_height = 3,
s_x = 1,
s_y = 0.85,
h_fill = "#0b1c2d",
h_color = "white",
p_color = "white",
filename = "hex-riskspatial.png"
)
library(hexSticker)
sticker(
subplot = p,
package = "riskspatial",
p_size = 16,
s_width = 1.5,
s_height = 1.5,
s_x = 1,
s_y = 0.85,
h_fill = "#0b1c2d",
h_color = "white",
p_color = "white",
filename = "hex-riskspatial.png"
)
p <- p +
scale_x_continuous(expand = expansion(mult = 0.1)) +
scale_y_continuous(expand = expansion(mult = 0.1))
library(hexSticker)
sticker(
subplot = p,
package = "riskspatial",
p_size = 16,
s_width = 1.5,
s_height = 1.5,
s_x = 1,
s_y = 0.85,
h_fill = "#0b1c2d",
h_color = "white",
p_color = "white",
filename = "hex-riskspatial.png"
)
set.seed(3)
df <- data.frame(
x = rnorm(400),
y = rnorm(400)
)
p <- ggplot(df, aes(x, y)) +
stat_density_2d(
aes(fill = after_stat(level)),
geom = "polygon",
alpha = 0.8,
contour = TRUE
) +
geom_point(size = 0.4, alpha = 0.6, color = "white") +
coord_equal() +
theme_void() +
theme(
legend.position = "none"
)
p
set.seed(123)
df <- data.frame(
x = rnorm(400),
y = rnorm(400)
)
p <- ggplot(df, aes(x, y)) +
stat_density_2d(
aes(fill = after_stat(level)),
geom = "polygon",
alpha = 0.8,
contour = TRUE
) +
geom_point(size = 0.4, alpha = 0.6, color = "white") +
coord_equal() +
theme_void() +
theme(
legend.position = "none"
)
p
set.seed(126)
df <- data.frame(
x = rnorm(400),
y = rnorm(400)
)
p <- ggplot(df, aes(x, y)) +
stat_density_2d(
aes(fill = after_stat(level)),
geom = "polygon",
alpha = 0.8,
contour = TRUE
) +
geom_point(size = 0.4, alpha = 0.6, color = "white") +
coord_equal() +
theme_void() +
theme(
legend.position = "none"
)
p
?exposure
